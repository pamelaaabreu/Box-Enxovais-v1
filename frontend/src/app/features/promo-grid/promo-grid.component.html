<section class="promo-grid-section">
  <div class="section-header">
    <h1><span class="snow-icon">❄️</span> Ofertas de Inverno</h1>
    <p>Aproveite descontos exclusivos em itens selecionados da estação.</p>
  </div>

  <div
    class="promo-grid-container"
    *ngIf="promotionalProducts && promotionalProducts.length > 0; else noPromos"
  >
    <a
      [routerLink]="['/products', product.id]"
      class="promo-card product-card"
      *ngFor="let product of promotionalProducts"
      [attr.aria-label]="'Comprar ' + product.name + ' em promoção'"
    >
      <div class="badge">
        -{{
          (1 - product.promotionalPrice / product.price) * 100
            | number : "1.0-0"
        }}%
      </div>

      <img
        [src]="'http://localhost:8080/' + (product.image_paths?.[0] || 'placeholder.jpg')"
        [alt]="'Imagem de ' + product.name"
        loading="lazy"
      />

      <div class="promo-overlay">
        <div class="promo-text">
          <h3>{{ product.name }}</h3>
          <p>{{ product.description }}</p>
          <div class="price">
            <span class="original-price">{{
              product.price | currency : "BRL"
            }}</span>
            <span class="promo-price">{{
              product.promotionalPrice | currency : "BRL"
            }}</span>
          </div>
        </div>
      </div>
    </a>

    <div class="promo-card promo-all-button">
      <a
        href="/link-para-todas-promocoes"
        class="promo-button"
        aria-label="Ver todas as promoções"
        >Ver todas as promoções</a
      >
    </div>
  </div>

  <ng-template #noPromos>
    <div class="no-promos-message">
      <p>Nenhuma oferta de inverno disponível no momento.</p>
    </div>
  </ng-template>
</section>
